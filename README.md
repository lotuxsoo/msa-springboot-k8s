# MSA ê¸°ë°˜ Kubernetes ë°°í¬ í”„ë¡œì íŠ¸

## ê°œìš”
ì´ í”„ë¡œì íŠ¸ëŠ” ì£¼ë¬¸(Order) ì„œë¹„ìŠ¤ì™€ ê²°ì œ(Payment) ì„œë¹„ìŠ¤ë¥¼ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜(MSA)ë¡œ êµ¬í˜„í•˜ê³ , Kubernetesë¥¼ ì´ìš©í•˜ì—¬ ë°°í¬ ë° ìš´ì˜í•˜ëŠ” ì‹¤ìŠµì„ ëª©ì ìœ¼ë¡œ í•©ë‹ˆë‹¤.

## ëª©ì°¨
1. [í”„ë¡œì íŠ¸ ì†Œê°œ](#í”„ë¡œì íŠ¸-ì†Œê°œ)
2. [ì„œë¹„ìŠ¤ ì„¤ëª…](#ì„œë¹„ìŠ¤-ì„¤ëª…)
3. [êµ¬í˜„ ê¸°ìˆ ](#êµ¬í˜„-ê¸°ìˆ )
4. [êµ¬ì„± ë° í´ë” êµ¬ì¡°](#êµ¬ì„±-ë°-í´ë”-êµ¬ì¡°)
5. [ì‹¤ìŠµ ë‹¨ê³„](#ì‹¤ìŠµ-ë‹¨ê³„)

## í”„ë¡œì íŠ¸ ì†Œê°œ
ì´ í”„ë¡œì íŠ¸ëŠ” ê¸ˆìœµ IT í™˜ê²½ì—ì„œì˜ MSA ë„ì…ì„ ë•ê¸° ìœ„í•´ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. Spring Boot ê¸°ë°˜ì˜ ì£¼ë¬¸ ë° ê²°ì œ ì„œë¹„ìŠ¤ë¥¼ êµ¬ì„±í•˜ê³ , ì´ë¥¼ Kubernetes í™˜ê²½ì—ì„œ ë°°í¬í•˜ì—¬ í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ ê¸°ìˆ ì„ ì§ì ‘ ì²´í—˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ì„œë¹„ìŠ¤ ì„¤ëª…
- **Order Service**: ê³ ê°ì˜ ì£¼ë¬¸ì„ ì²˜ë¦¬í•˜ê³  ê´€ë ¨ ì •ë³´ë¥¼ ê´€ë¦¬í•˜ëŠ” ì„œë¹„ìŠ¤
- **Payment Service**: ê²°ì œ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê³  ê²°ì œ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” ì„œë¹„ìŠ¤
- **API Gateway**: ì™¸ë¶€ í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„°ì˜ ìš”ì²­ì„ ê° ì„œë¹„ìŠ¤ë¡œ ë¼ìš°íŒ…
- **Eureka Server**: ê° ì„œë¹„ìŠ¤ì˜ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì—­í• ì„ ìˆ˜í–‰í•˜ì—¬ ë™ì  ì„œë¹„ìŠ¤ ê²€ìƒ‰ ì§€ì›

## êµ¬í˜„ ê¸°ìˆ 
- **Spring Boot**: ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ êµ¬ì¶•
- **Eureka**: ì„œë¹„ìŠ¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ë° ë™ì  ì„œë¹„ìŠ¤ ê²€ìƒ‰
- **API Gateway**: ë¼ìš°íŒ… ë° íŠ¸ë˜í”½ ê´€ë¦¬
- **Docker**: ì„œë¹„ìŠ¤ ì»¨í…Œì´ë„ˆí™”
- **Kubernetes**: ì„œë¹„ìŠ¤ ë°°í¬ ë° ê´€ë¦¬
- **Ingress**: ì™¸ë¶€ íŠ¸ë˜í”½ì„ API Gatewayë¡œ ì „ë‹¬

## êµ¬ì„± ë° í´ë” êµ¬ì¡°
```
.
â”œâ”€â”€ ğŸ“„ application-common.yml         # ëª¨ë“  ì„œë¹„ìŠ¤ê°€ ì°¸ì¡°í•˜ëŠ” ê³µí†µ ì„¤ì • íŒŒì¼ (RabbitMQ, Eureka ë“±)
â”œâ”€â”€ ğŸ“‚ k8s                            # Kubernetes ê´€ë ¨ ë¦¬ì†ŒìŠ¤
â”‚   â”œâ”€â”€ ğŸ“‚ api-gateway
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ api-gateway-deployment.yml
â”‚   â”‚   â””â”€â”€ ğŸ“„ api-gateway-service.yml
â”‚   â”œâ”€â”€ ğŸ“‚ eureka-server
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ eureka-server-deployment.yml
â”‚   â”‚   â””â”€â”€ ğŸ“„ eureka-server-service.yml
â”‚   â”œâ”€â”€ ğŸ“‚ order-service
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ order-service-deployment.yml
â”‚   â”‚   â””â”€â”€ ğŸ“„ order-service-service.yml
â”‚   â”œâ”€â”€ ğŸ“‚ payment-service
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ payment-service-deployment.yml
â”‚   â”‚   â””â”€â”€ ğŸ“„ payment-service-service.yml
â”‚   â””â”€â”€ ğŸ“‚ ingress
â”‚       â””â”€â”€ ğŸ“„ msa-ingress.yml        # ì™¸ë¶€ íŠ¸ë˜í”½ì„ API Gatewayë¡œ ë¼ìš°íŒ…í•˜ëŠ” Ingress ì„¤ì •
â”œâ”€â”€ ğŸ“‚ services                       # ëª¨ë“  ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ì˜ ì†ŒìŠ¤ ì½”ë“œ
â”‚   â”œâ”€â”€ ğŸš€ msa-api-gateway            # API Gateway ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Dockerfile
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ build.gradle
â”‚   â”‚   â””â”€â”€ ğŸ“‚ src
â”‚   â”‚       â””â”€â”€ ğŸ“‚ resources
â”‚   â”‚           â””â”€â”€ ğŸ“„ application.yml
â”‚   â”œâ”€â”€ ğŸš€ msa-eureka-server          # Eureka Server ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Dockerfile
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ build.gradle
â”‚   â”‚   â””â”€â”€ ğŸ“‚ src
â”‚   â”‚       â””â”€â”€ ğŸ“‚ resources
â”‚   â”‚           â””â”€â”€ ğŸ“„ application.yml
â”‚   â”œâ”€â”€ ğŸš€ msa-order-service          # Order Service ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Dockerfile
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ build.gradle
â”‚   â”‚   â””â”€â”€ ğŸ“‚ src
â”‚   â”‚       â””â”€â”€ ğŸ“‚ resources
â”‚   â”‚           â””â”€â”€ ğŸ“„ application.yml
â”‚   â””â”€â”€ ğŸš€ msa-payment-service        # Payment Service ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤
â”‚       â”œâ”€â”€ ğŸ“„ Dockerfile
â”‚       â”œâ”€â”€ ğŸ“„ build.gradle
â”‚       â””â”€â”€ ğŸ“‚ src
â”‚           â””â”€â”€ ğŸ“‚ resources
â”‚               â””â”€â”€ ğŸ“„ application.yml

```

## ì‹¤ìŠµ ë‹¨ê³„
1. **ì„œë¹„ìŠ¤ êµ¬í˜„**: ì£¼ë¬¸ ë° ê²°ì œ ì„œë¹„ìŠ¤ ì†ŒìŠ¤ ì½”ë“œë¥¼ í™•ì¸í•˜ê³ , Spring Bootë¡œ êµ¬í˜„ëœ ì„œë¹„ìŠ¤ë¥¼ í•™ìŠµí•©ë‹ˆë‹¤.
2. **ì»¨í…Œì´ë„ˆí™”**: ê° ì„œë¹„ìŠ¤ì˜ Docker ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ê³  Docker Hubì— í‘¸ì‹œí•©ë‹ˆë‹¤.
3. **Kubernetes ë°°í¬**: Kubernetes ì„¤ì • íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ í´ëŸ¬ìŠ¤í„°ì— ì„œë¹„ìŠ¤ë¥¼ ë°°í¬í•©ë‹ˆë‹¤.
4. **Ingress ì„¤ì •**: ì™¸ë¶€ íŠ¸ë˜í”½ì„ ê´€ë¦¬í•˜ê¸° ìœ„í•œ Ingressë¥¼ ì„¤ì •í•˜ê³  API Gatewayë¡œ ì—°ê²°í•©ë‹ˆë‹¤.
5. **ì„œë¹„ìŠ¤ ê°„ í†µì‹  í…ŒìŠ¤íŠ¸**: API Gatewayë¥¼ í†µí•´ ì£¼ë¬¸ ë° ê²°ì œ ì„œë¹„ìŠ¤ì˜ í†µì‹ ì„ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.
